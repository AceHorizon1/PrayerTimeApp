<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.0.0/dist/flowbite.min.js"></script>
  <link rel="stylesheet" href="material_theme.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--md-sys-color-background);
      color: var(--md-sys-color-on-background);
    }
    .card {
      background: var(--md-sys-color-surface);
      box-shadow: var(--md-sys-elevation-surface1);
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 24px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 2px;
      bottom: 2px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: var(--md-sys-color-primary);
    }
    input:checked + .slider:before {
      transform: translateX(16px);
    }
    .btn {
      background: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
      padding: 0.5rem 1.25rem;
      border-radius: 0.5rem;
      font-weight: 500;
      transition: background 0.2s;
    }
    .btn:hover {
      background: var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- App Bar -->
  <header class="bg-primary text-on-primary p-4 shadow-md">
    <div class="max-w-md mx-auto flex items-center">
      <button onclick="window.history.back()" class="p-2 rounded-full hover:bg-on-primary/20">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      <h1 class="text-xl font-medium ml-2">Settings</h1>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-md mx-auto p-4">
    <div class="space-y-6">
      <!-- Appearance Card -->
      <div class="card rounded-xl p-6">
        <h3 class="text-lg font-medium mb-4">Appearance</h3>
        <div class="flex justify-between items-center mb-2">
          <span>Dark Mode</span>
          <label class="switch">
            <input type="checkbox" id="darkModeToggle">
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <!-- Location Card -->
      <div class="card rounded-xl p-6">
        <h3 class="text-lg font-medium mb-4">Location</h3>
        <div class="flex items-center p-2 rounded-lg bg-surface-variant mb-3">
          <svg class="w-5 h-5 text-on-surface-variant mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
          <span class="text-on-surface" id="currentLocation">London, UK</span>
        </div>
        <button class="btn mt-2 w-full" onclick="changeLocation()">Change Location</button>
      </div>

      <!-- Notifications Card -->
      <div class="card rounded-xl p-6">
        <h3 class="text-lg font-medium mb-4">Notifications</h3>
        <div class="flex justify-between items-center mb-2">
          <span>Enable Notifications</span>
          <label class="switch">
            <input type="checkbox" id="notifToggle">
            <span class="slider"></span>
          </label>
        </div>
        <div class="flex justify-between items-center">
          <span>Remind 5 minutes before</span>
          <label class="switch">
            <input type="checkbox" id="remind5minToggle">
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <!-- Advanced Settings Link -->
      <div class="flex justify-end">
        <a href="advanced_settings.html" class="btn">Advanced Settings</a>
      </div>
    </div>
  </main>

  <script>
    // Theme toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    const htmlElement = document.documentElement;
    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      htmlElement.setAttribute('data-theme', 'dark');
      darkModeToggle.checked = true;
    }
    darkModeToggle.addEventListener('change', () => {
      if (darkModeToggle.checked) {
        htmlElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else {
        htmlElement.removeAttribute('data-theme');
        localStorage.setItem('theme', 'light');
      }
    });

    // Location change (placeholder)
    function changeLocation() {
      const newLoc = prompt('Enter your city, country:', document.getElementById('currentLocation').textContent);
      if (newLoc) {
        document.getElementById('currentLocation').textContent = newLoc;
        // Save to localStorage or backend as needed
      }
    }

    // Notification toggles (placeholder logic)
    document.getElementById('notifToggle').addEventListener('change', function() {
      // Save notification preference
    });
    document.getElementById('remind5minToggle').addEventListener('change', function() {
      // Save reminder preference
    });
  </script>
</body>
</html>